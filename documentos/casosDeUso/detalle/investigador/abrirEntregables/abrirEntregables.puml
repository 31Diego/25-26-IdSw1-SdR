@startuml abrirEntregables
skinparam linetype polyline

state in1 as "PROYECTO_ABIERTO"
in1 -[#green]-> abrirEntregables

state in2 as "ENTREGABLE_ABIERTO"
in2 -[#green]-> abrirEntregables

state abrirEntregables as "abrirEntregables()" {

    state " " as SolicitandoApertura
    state " " as MostrandoListado
    state " " as FiltrandoBuscando

    [*] -[#green]-> SolicitandoApertura
    note on link
    <b>Investigador</b> solicita abrir entregables
    end note

    SolicitandoApertura -[#green]-> MostrandoListado
    note on link
    <b>Sistema</b> presenta y visualiza el listado de entregables del proyecto con:
    • ID
    • Título
    • Tipo
    • Fecha límite
    • Estado
    • Información adicional (si aplica)

    <b>Sistema</b> permite introducir filtros y búsqueda
    <b>Sistema</b> permite solicitar:
    • Abrir entregable
    • Crear entregable
    • Volver al proyecto
    end note

    MostrandoListado -[#green]-> FiltrandoBuscando
    note on link
    <b>Investigador</b> introduce filtros o búsqueda
    end note

    FiltrandoBuscando -[#green]-> FiltrandoBuscando
    note on link
    <b>Sistema</b> muestra y visualiza el listado según filtros/búsqueda
    end note

    FiltrandoBuscando -[#green]-> MostrandoListado
    note on link
    <b>Investigador</b> solicita continuar con el listado
    end note

    MostrandoListado -[#green]-> [*]
    note on link
    <b>Investigador</b> solicita abrir un entregable del listado
    <b>Sistema</b> presenta y visualiza el entregable solicitado
    end note
}

abrirEntregables -[#green]-> ENTREGABLES_ABIERTOS
note on link
Listado de entregables mostrado
end note

abrirEntregables -[#green]-> ENTREGABLE_ABIERTO
note on link
abrirEntregable()
end note

abrirEntregables -[#green]-> ENTREGABLE_ABIERTO
note on link
crearEntregable()
end note

abrirEntregables -[#green]-> PROYECTO_ABIERTO
note on link
abrirProyecto()
end note

@enduml
