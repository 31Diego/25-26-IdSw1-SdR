@startuml editarEntregable
skinparam linetype polyline

state in1 as "ENTREGABLE_ABIERTO"
in1 -[#green]-> editarEntregable

state editarEntregable as "editarEntregable()" {

    state " " as SolicitandoEdicion
    state " " as IntroduciendoCambios
    state " " as ValidandoDatos

    [*] -[#green]-> SolicitandoEdicion
    note on link
    <b>Coordinador</b> solicita editar el entregable
    end note

    SolicitandoEdicion -[#green]-> IntroduciendoCambios
    note on link
    <b>Sistema</b> presenta la pantalla de edición
    <b>Sistema</b> muestra los datos actuales y permite introducir cambios:
    • Título
    • Tipo
    • Fecha límite
    • Estado
    • Descripción (si aplica)
    • Archivo adjunto (si aplica)

    <b>Sistema</b> permite solicitar:
    • Guardar cambios
    • Cancelar edición
    end note

    IntroduciendoCambios -[#green]-> ValidandoDatos
    note on link
    <b>Coordinador</b> solicita guardar los cambios
    end note

    ValidandoDatos -[#green]-> [*]
    note on link
    <b>Sistema</b> permite solicitar la actualización del entregable
    <b>Sistema</b> presenta y visualiza el entregable con los cambios
    end note

    ValidandoDatos -[#red]-> IntroduciendoCambios
    note on link
    <b>Sistema</b> muestra errores de introducción
    <b>Sistema</b> permite introducir correcciones y mantiene la pantalla de edición
    end note

    IntroduciendoCambios -[#red]-> [*]
    note on link
    <b>Coordinador</b> solicita cancelar la edición
    <b>Sistema</b> presenta y visualiza el entregable sin cambios
    end note
}

editarEntregable -[#green]-> ENTREGABLE_ABIERTO
note on link
Entregable editado
end note

editarEntregable -[#red]-> ENTREGABLE_ABIERTO
note on link
Edición cancelada
end note

editarEntregable -[#green]-> ENTREGABLES_ABIERTOS
note on link
eliminarEntregable()
end note

editarEntregable -[#green]-> ENTREGABLES_ABIERTOS
note on link
abrirEntregables()
end note

@enduml
